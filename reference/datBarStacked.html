<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Data - Generates frequency barplot. — datBarStacked • FIESTA</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data - Generates frequency barplot. — datBarStacked"><meta name="description" content="Generate a barplot of frequencies in order from most to least."><meta property="og:description" content="Generate a barplot of frequencies in order from most to least."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FIESTA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.6.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/FIESTA_tutorial_GB.html">Green-book Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_MA.html">Model-Assisted Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_SA.html">Small Area Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_PB.html">Photo-Based Estimators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/FIESTA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data - Generates frequency barplot.</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/FIESTA/blob/master/R/datBarStacked.R" class="external-link"><code>R/datBarStacked.R</code></a></small>
      <div class="d-none name"><code>datBarStacked.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate a barplot of frequencies in order from most to least.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">datBarStacked</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">main.attribute</span>,</span>
<span>  <span class="va">sub.attribute</span>,</span>
<span>  response <span class="op">=</span> <span class="st">"phat"</span>,</span>
<span>  percent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  LUT.color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"rainbow"</span>,</span>
<span>  device.type <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  jpeg.res <span class="op">=</span> <span class="fl">300</span>,</span>
<span>  device.width <span class="op">=</span> <span class="fl">9</span>,</span>
<span>  device.height <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  mar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  horiz <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bar.lim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bar.ratio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ylabel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlabel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  las.xnames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  main.order <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sub.order <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.fit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.cex <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  legend.x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.bty <span class="op">=</span> <span class="st">"o"</span>,</span>
<span>  legend.bg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"bg"</span><span class="op">)</span>,</span>
<span>  legend.inset <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  legend.xpd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"xpd"</span><span class="op">)</span>,</span>
<span>  main <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cex.main <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cex.label <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cex.names <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  sub.add0 <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  savedata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  outfolder <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outfn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outfn.pre <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outfn.date <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Data frame or comma-delimited file (*.csv) - table of values to be
plotted.</p></dd>


<dt id="arg-main-attribute">main.attribute<a class="anchor" aria-label="anchor" href="#arg-main-attribute"></a></dt>
<dd><p>String. The column to be used for each bar.</p></dd>


<dt id="arg-sub-attribute">sub.attribute<a class="anchor" aria-label="anchor" href="#arg-sub-attribute"></a></dt>
<dd><p>String. The column to be used to subdivide each bar.</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>String. The column of values to be plotted. Currently
defaults to "phat".</p></dd>


<dt id="arg-percent">percent<a class="anchor" aria-label="anchor" href="#arg-percent"></a></dt>
<dd><p>Logical. If TRUE, values cover values in a stack are
converted to percent of stack.</p></dd>


<dt id="arg-lut-color">LUT.color<a class="anchor" aria-label="anchor" href="#arg-lut-color"></a></dt>
<dd><p>Data frame or comma-delimited file (*.csv) - look up table
for colors.  Must contain column with same name as sub.attribute.</p></dd>


<dt id="arg-color">color<a class="anchor" aria-label="anchor" href="#arg-color"></a></dt>
<dd><p>String. Automated color selection ("rainbow", "topo", "heat",
"terrain", "cm").</p></dd>


<dt id="arg-device-type">device.type<a class="anchor" aria-label="anchor" href="#arg-device-type"></a></dt>
<dd><p>String. The type(s) of device for plotting ("default",
"jpg", "pdf", or "ps").</p></dd>


<dt id="arg-jpeg-res">jpeg.res<a class="anchor" aria-label="anchor" href="#arg-jpeg-res"></a></dt>
<dd><p>Integer. The resolution for jpeg image.</p></dd>


<dt id="arg-device-width">device.width<a class="anchor" aria-label="anchor" href="#arg-device-width"></a></dt>
<dd><p>Integer. The width of output device (in inches)'</p></dd>


<dt id="arg-device-height">device.height<a class="anchor" aria-label="anchor" href="#arg-device-height"></a></dt>
<dd><p>Integer. The height of output device (in inches)'</p></dd>


<dt id="arg-mar">mar<a class="anchor" aria-label="anchor" href="#arg-mar"></a></dt>
<dd><p>See par.. A numerical vector representing number of lines for
margins (c(bottom, left, top, right).</p></dd>


<dt id="arg-horiz">horiz<a class="anchor" aria-label="anchor" href="#arg-horiz"></a></dt>
<dd><p>Logical. See barplot. If FALSE, the bars are drawn vertically
with the first bar to the left. If TRUE, the bars are drawn horizontally
with the first bar at the bottom.</p></dd>


<dt id="arg-bar-lim">bar.lim<a class="anchor" aria-label="anchor" href="#arg-bar-lim"></a></dt>
<dd><p>Number vector. Equivalent to xlim or ylim, for whichever is
the lengthwise axis in barcharts (ex. c(0,10)). Warning: for lower limits
other than zero (ex. c(20,100), will behave strangely because par(xpd) is
set to NA.</p></dd>


<dt id="arg-bar-ratio">bar.ratio<a class="anchor" aria-label="anchor" href="#arg-bar-ratio"></a></dt>
<dd><p>Proportion of figure area taken up by barplot vs taken by
legend.</p></dd>


<dt id="arg-ylabel">ylabel<a class="anchor" aria-label="anchor" href="#arg-ylabel"></a></dt>
<dd><p>String. A label for the y axis (same as ylab).</p></dd>


<dt id="arg-xlabel">xlabel<a class="anchor" aria-label="anchor" href="#arg-xlabel"></a></dt>
<dd><p>String. A label for the x axis (same as xlab).</p></dd>


<dt id="arg-las-xnames">las.xnames<a class="anchor" aria-label="anchor" href="#arg-las-xnames"></a></dt>
<dd><p>Number. The direction of x variable names (0,1,2,3).
0:Default, parallel; 1:horizontal; 2:perpendicular; 3:vertical.</p></dd>


<dt id="arg-main-order">main.order<a class="anchor" aria-label="anchor" href="#arg-main-order"></a></dt>
<dd><p>String vector. A vector of main.attribute names in desired
order for bars. May also be 'DESC' or 'ASC'.</p></dd>


<dt id="arg-sub-order">sub.order<a class="anchor" aria-label="anchor" href="#arg-sub-order"></a></dt>
<dd><p>String vector. Avector of sub.attribute names in desired
order for stack, with the first name used as the column in each stack. If
NULL, the order is based on the overall cover of each sub.attribute. May
also be 'DESC' or 'ASC'.</p></dd>


<dt id="arg-legend-fit">legend.fit<a class="anchor" aria-label="anchor" href="#arg-legend-fit"></a></dt>
<dd><p>Logical. Should bar.lim be changed to fit the legend of
the plot.  Will only be used if the legend is on the right side of a
horizontal plot or the top of a vertical plot. (i.e. horiz=FALSE).</p></dd>


<dt id="arg-legend-cex">legend.cex<a class="anchor" aria-label="anchor" href="#arg-legend-cex"></a></dt>
<dd><p>Number. Expansion factor for legend text.</p></dd>


<dt id="arg-legend-x">legend.x<a class="anchor" aria-label="anchor" href="#arg-legend-x"></a></dt>
<dd><p>See legend. The x coordinate to be used to position the
legend. If horiz=TRUE, suggested options include "topright" or
"bottomright". If horiz=FALSE, suggested options include "topleft" or
"topright".</p></dd>


<dt id="arg-legend-y">legend.y<a class="anchor" aria-label="anchor" href="#arg-legend-y"></a></dt>
<dd><p>See legend. The y coordinate to be used to position the
legend.</p></dd>


<dt id="arg-legend-title">legend.title<a class="anchor" aria-label="anchor" href="#arg-legend-title"></a></dt>
<dd><p>See legend. A title for the legend.</p></dd>


<dt id="arg-legend-bty">legend.bty<a class="anchor" aria-label="anchor" href="#arg-legend-bty"></a></dt>
<dd><p>See legend. the type of box to be drawn around the legend.</p></dd>


<dt id="arg-legend-bg">legend.bg<a class="anchor" aria-label="anchor" href="#arg-legend-bg"></a></dt>
<dd><p>See legend. The background color for the legend box.</p></dd>


<dt id="arg-legend-inset">legend.inset<a class="anchor" aria-label="anchor" href="#arg-legend-inset"></a></dt>
<dd><p>See legend. The distance from the margins as a fraction
of the plot region.</p></dd>


<dt id="arg-legend-xpd">legend.xpd<a class="anchor" aria-label="anchor" href="#arg-legend-xpd"></a></dt>
<dd><p>See legend.</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>String. Title for plot.</p></dd>


<dt id="arg-cex-main">cex.main<a class="anchor" aria-label="anchor" href="#arg-cex-main"></a></dt>
<dd><p>Number. Expansion factor for title.</p></dd>


<dt id="arg-cex-label">cex.label<a class="anchor" aria-label="anchor" href="#arg-cex-label"></a></dt>
<dd><p>Number. A number representing cex in barplot (size
expansion of x and/or ylabels.</p></dd>


<dt id="arg-cex-names">cex.names<a class="anchor" aria-label="anchor" href="#arg-cex-names"></a></dt>
<dd><p>Number. Expansion factor for axis names (bar labels). Ex.
0.5 represents half the size.</p></dd>


<dt id="arg-sub-add-">sub.add0<a class="anchor" aria-label="anchor" href="#arg-sub-add-"></a></dt>
<dd><p>Logical. If TRUE, adds categories with 0 values to
sub.attribute legend.</p></dd>


<dt id="arg-savedata">savedata<a class="anchor" aria-label="anchor" href="#arg-savedata"></a></dt>
<dd><p>Logical. If TRUE, writes output data to outfolder (jpg and
pdf).</p></dd>


<dt id="arg-outfolder">outfolder<a class="anchor" aria-label="anchor" href="#arg-outfolder"></a></dt>
<dd><p>String. The name of the output folder. If savedata=TRUE,
all output saved to the outfolder. If savedata=FALSE, only a text file of
input parameters is saved.</p></dd>


<dt id="arg-outfn">outfn<a class="anchor" aria-label="anchor" href="#arg-outfn"></a></dt>
<dd><p>String. The name of the output file if savedata=TRUE (*.csv).
Do not include extension. If NULL, the file will be named
BARPLOT_'yvar_date'.csv</p></dd>


<dt id="arg-outfn-pre">outfn.pre<a class="anchor" aria-label="anchor" href="#arg-outfn-pre"></a></dt>
<dd><p>String. Add a prefix to output name (e.g., "01").</p></dd>


<dt id="arg-outfn-date">outfn.date<a class="anchor" aria-label="anchor" href="#arg-outfn-date"></a></dt>
<dd><p>Logical. If TRUE, add date to end of outfile (e.g.,
outfn_'date'.csv).</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Logical. If TRUE and exportshp=TRUE, overwrite files in
outfolder.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>list of additional arguments to pass to barplot(); names of the
list are used as argument names.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Outputs stacked barplot to display window.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p># Note: This function uses a customized lengthwise axis (y axis if horiz=F,
x axis if horiz=T) # Therefore to modify this axis by par commands (other
than the # ones specifically included above) may require changing the
function. For example par(yaxp) # may not work.  # # # The arguments bar.lab
and bar.lim are equivalent to xlab/ylab, xlim/ylim, controlling # whichever
is the lengthwise axis in the bar charts (as determined by horiz).  # # #
bar.ratio is only used when bar.lim is specified, it controls what
percentage of the # plot area will be occupied by the specified range of the
chart itself. For example, setting # bar.lim=c(0,80) and bar.ratio=0.75 will
result in the 80<!-- % tick mark occurring 75% of the way # across the plot -->
region, leaving 25<!-- % of the plot region for the legend. (Note, if any of # -->
the bars are taller than 80<!-- % they will still overlap the legend.)  # # If -->
bar.lim is not specified, the function will automatically scale the
lengthwise axis so # that all the bars are as tall as possible, but none of
the bars over lap the legend.  # # The main purpose of specifying bar.lim is
if you want multiple forest types to be shown at # the same scale,
sacrificing individual forest type details to make the graphs comparable #
across forest types. Then you may need to fiddle with bar.ratio till the
plots all look good.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>If savedata = TRUE, writes a jpg and pdf of barplot to outfolder.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Elizabeth Freeman, Tracey S. Frescino</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tracey Frescino, Gretchen Moisen, Paul Patterson, Chris Toney, Grayson White, Joshua Yamamoto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

