<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Database - Gets or checks FIA EVALIDs and/or gets inventory years from FIA's online publicly-available DataMart (https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html). — DBgetEvalid • FIESTA</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Database - Gets or checks FIA EVALIDs and/or gets inventory years from FIA's online publicly-available DataMart (https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html). — DBgetEvalid"><meta name="description" content="Extracts FIA EVALIDs for identifying an estimation group of plots. EVALIDs
may be extracted by most current evaluation (evalCur=TRUE) or by the end
year of an evaluation (evalEndyr) or all evaluations in the database for one
or more states. See details for more information."><meta property="og:description" content="Extracts FIA EVALIDs for identifying an estimation group of plots. EVALIDs
may be extracted by most current evaluation (evalCur=TRUE) or by the end
year of an evaluation (evalEndyr) or all evaluations in the database for one
or more states. See details for more information."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FIESTA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.6.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/FIESTA_tutorial_GB.html">Green-book Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_MA.html">Model-Assisted Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_SA.html">Small Area Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_PB.html">Photo-Based Estimators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/FIESTA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Database - Gets or checks FIA EVALIDs and/or gets inventory years from FIA's online publicly-available DataMart (https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html).</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/FIESTA/blob/master/R/DBgetEvalid.R" class="external-link"><code>R/DBgetEvalid.R</code></a></small>
      <div class="d-none name"><code>DBgetEvalid.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracts FIA EVALIDs for identifying an estimation group of plots. EVALIDs
may be extracted by most current evaluation (evalCur=TRUE) or by the end
year of an evaluation (evalEndyr) or all evaluations in the database for one
or more states. See details for more information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DBgetEvalid</span><span class="op">(</span></span>
<span>  states <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  RS <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datsource <span class="op">=</span> <span class="st">"datamart"</span>,</span>
<span>  data_dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  invtype <span class="op">=</span> <span class="st">"ANNUAL"</span>,</span>
<span>  evalCur <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  evalEndyr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  evalid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  evalAll <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  evalType <span class="op">=</span> <span class="st">"VOL"</span>,</span>
<span>  invyrtab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dbTabs <span class="op">=</span> <span class="fu"><a href="dbTables.html">dbTables</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dbconn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  schema <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dbconnopen <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  returnPOP <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  gui <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-states">states<a class="anchor" aria-label="anchor" href="#arg-states"></a></dt>
<dd><p>String or numeric vector. Name (e.g., 'Arizona','New Mexico')
or code (e.g., 4, 35) of state(s) for evalid. If all states in one or more
FIA Research Station is desired, set states=NULL and use RS argument to
define RS.</p></dd>


<dt id="arg-rs">RS<a class="anchor" aria-label="anchor" href="#arg-rs"></a></dt>
<dd><p>String vector. Name of research station(s)
('RMRS','SRS','NCRS','NERS','PNWRS').  Do not use if states is populated.</p></dd>


<dt id="arg-datsource">datsource<a class="anchor" aria-label="anchor" href="#arg-datsource"></a></dt>
<dd><p>Source of data ('datamart', 'sqlite').</p></dd>


<dt id="arg-data-dsn">data_dsn<a class="anchor" aria-label="anchor" href="#arg-data-dsn"></a></dt>
<dd><p>If datsource='sqlite', the file name (data source name) of
the sqlite database (*.sqlite).</p></dd>


<dt id="arg-invtype">invtype<a class="anchor" aria-label="anchor" href="#arg-invtype"></a></dt>
<dd><p>String. The type of FIA data to extract ('PERIODIC',
'ANNUAL').  Only 1 allowed at a time. See further details below.</p></dd>


<dt id="arg-evalcur">evalCur<a class="anchor" aria-label="anchor" href="#arg-evalcur"></a></dt>
<dd><p>Logical. If TRUE, the most current FIA Evaluation is extracted
for state(s).</p></dd>


<dt id="arg-evalendyr">evalEndyr<a class="anchor" aria-label="anchor" href="#arg-evalendyr"></a></dt>
<dd><p>Number. The end year of the FIA Evaluation period of interest.
Selects only sampled plots and conditions for the evaluation period. If
more than one state, create a named list object with evalEndyr labeled for
each state (e.g., list(Utah=2014, Colorado=2013).</p></dd>


<dt id="arg-evalid">evalid<a class="anchor" aria-label="anchor" href="#arg-evalid"></a></dt>
<dd><p>Integer. One or more EVALID to check if exists.</p></dd>


<dt id="arg-evalall">evalAll<a class="anchor" aria-label="anchor" href="#arg-evalall"></a></dt>
<dd><p>Logical. If TRUE, gets all EVALIDs for invtype.</p></dd>


<dt id="arg-evaltype">evalType<a class="anchor" aria-label="anchor" href="#arg-evaltype"></a></dt>
<dd><p>String vector. The type(s) of evaluation of interest ('ALL',
'CURR', 'VOL', 'GRM', 'P2VEG', 'DWM", 'INV', 'REGEN', 'CRWN').  The evalType
'ALL' includes nonsampled plots; 'CURR' includes plots used for area
estimates; 'VOL' includes plots used for area and/or tree estimates; The
evalType 'GRM' includes plots used for growth, removals, mortality, and
change estimates (eval_typ <!-- %in% c(GROW, MORT, REMV, CHNG)).  Multiple types -->
are accepted. See details below and FIA database manual for regional
availability and/or differences.</p></dd>


<dt id="arg-invyrtab">invyrtab<a class="anchor" aria-label="anchor" href="#arg-invyrtab"></a></dt>
<dd><p>Data frame. A data frame including inventory years by state.
If NULL, it is generated from SURVEY table from FIA database based on states
and invtype.</p></dd>


<dt id="arg-dbtabs">dbTabs<a class="anchor" aria-label="anchor" href="#arg-dbtabs"></a></dt>
<dd><p>List of database tables the user would like returned.
See help(dbTables) for a list of options.</p></dd>


<dt id="arg-dbconn">dbconn<a class="anchor" aria-label="anchor" href="#arg-dbconn"></a></dt>
<dd><p>Open database connection.</p></dd>


<dt id="arg-schema">schema<a class="anchor" aria-label="anchor" href="#arg-schema"></a></dt>
<dd><p>String. Schema in database where tables are.</p></dd>


<dt id="arg-dbconnopen">dbconnopen<a class="anchor" aria-label="anchor" href="#arg-dbconnopen"></a></dt>
<dd><p>Logical. If TRUE, the dbconn connection is not closed.</p></dd>


<dt id="arg-returnpop">returnPOP<a class="anchor" aria-label="anchor" href="#arg-returnpop"></a></dt>
<dd><p>Logical. If TRUE, returns pop tables (SURVEY,
POP_PLOT_STRATUM_ASSGN) as R objects instead of table names, if in db.</p></dd>


<dt id="arg-gui">gui<a class="anchor" aria-label="anchor" href="#arg-gui"></a></dt>
<dd><p>Logical. If TRUE, gui windows pop up for parameter selection.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of the following objects:</p>
<dl><dt>states</dt>
<dd><p>String vector. State
names.</p></dd>
 <dt>rslst</dt>
<dd><p>String vector. FIA research station names included in
output.</p></dd>
 <dt>evalidlist</dt>
<dd><p>Named list. evalid by state.</p></dd>
 <dt>invtype</dt>
<dd><p>String. Inventory type for states(s) (ANNUAL/PERIODIC).</p></dd>
 <dt>invyrtab</dt>
<dd><p>Data frame. Inventory years by state for evalidlist.</p></dd>
 <dt>evalTypelist</dt>
<dd><p>Named list. Evaluation type(s) by state.</p></dd>
 <dt>invyrs</dt>
<dd><p>Named list.
Inventory years by state for evalidlist.</p></dd>
 <dt>SURVEY</dt>
<dd><p>Data frame. If
returnPOP=TRUE, the SURVEY table from FIADB.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>FIA Evaluation<br> An Evaluation defines a group of plots in the FIA Database
used for state-level estimates, representing different spans of data and
different stratification and area adjustments. An Evaluation Type (evalType)
is used to identify a specific set of plots for a particular response to be
able to ensure a sample-based estimate for a population. See FIA's Database
documentation for current available Evaluation Types and descriptions
(https://www.fia.fs.fed.us/library/database-documentation/index.php).</p>
<p>EVALID<br> An EVALID is a unique code defining an Evaluation, generally in
the format of a 2-digit State code, a 2-digit year code, and a 2-digit
Evaluation Type code.</p>
<p>EVAL_TYP<br></p><table class="table table"><tr><td></td><td><b>EVALIDCD</b></td><td><b>EVAL_TYP</b></td><td><b>Description</b></td></tr><tr><td></td><td>00</td><td>EXPALL</td><td>All area</td></tr><tr><td></td><td>01</td><td>EXPVOL/EXPCURR</td><td>Area/Volume</td></tr><tr><td></td><td>03</td><td>EXPCHNG/EXPGROW/EXPMORT/EXPREMV</td><td>Area Change/GRM</td></tr><tr><td></td><td>07</td><td>EXPDWM</td><td>DWM</td></tr><tr><td></td><td>08</td><td>EXPREGEN</td><td>Regeneration</td></tr><tr><td></td><td>09</td><td>EXPINV</td><td>Invasive</td></tr><tr><td></td><td>10</td><td>EXPP2VEG</td><td>Veg profile</td></tr><tr><td></td><td>12</td><td>EXPCRWN</td><td>Crown</td></tr></table></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>FIA database tables used:<br> 1. SURVEY - To get latest inventory year,
invyrtab = NULL<br> 2. POP_EVAL - To get EVALID and EVALID years</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tracey S. Frescino</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Get evalid and inventory years for Wyoming</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span> <span class="op">&lt;-</span> <span class="fu">DBgetEvalid</span><span class="op">(</span>states<span class="op">=</span><span class="st">"Wyoming"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">WYeval</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">evalidlist</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">invtype</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">invyrtab</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">evalType</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">invyrs</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get evalid for Utah and Wyoming</span></span></span>
<span class="r-in"><span><span class="fu">DBgetEvalid</span><span class="op">(</span>states<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wyoming"</span>, <span class="st">"Utah"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get evalid for an FIA Research Station</span></span></span>
<span class="r-in"><span><span class="va">RSevalid</span> <span class="op">&lt;-</span> <span class="fu">DBgetEvalid</span><span class="op">(</span>RS<span class="op">=</span><span class="st">"NERS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">RSevalid</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">RSevalid</span><span class="op">$</span><span class="va">evalidlist</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tracey Frescino, Gretchen Moisen, Paul Patterson, Chris Toney, Grayson White, Joshua Yamamoto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

