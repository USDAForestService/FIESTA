<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Green-Book module - Generate tree estimates. — modGBtree • FIESTA</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Green-Book module - Generate tree estimates. — modGBtree"><meta name="description" content="Generates tree and or seedling estimates by domain and/or tree domain (and
estimation unit).  Calculations are based on Scott et al. 2005 ('the
green-book') for mapped forest inventory plots. The non-ratio estimator for
estimating tree attributes by stratum and domain is used. Plots that are
totally nonsampled are excluded from estimation dataset. Next, an adjustment
factor is calculated by strata to adjust for nonsampled (nonresponse)
conditions that have proportion less than 1. Attributes adjusted to a
per-acre value are summed by plot, divided by the adjustment factor, and
averaged by stratum. Strata means are combined using the strata weights and
then expanded to using the total land area in the population."><meta property="og:description" content="Generates tree and or seedling estimates by domain and/or tree domain (and
estimation unit).  Calculations are based on Scott et al. 2005 ('the
green-book') for mapped forest inventory plots. The non-ratio estimator for
estimating tree attributes by stratum and domain is used. Plots that are
totally nonsampled are excluded from estimation dataset. Next, an adjustment
factor is calculated by strata to adjust for nonsampled (nonresponse)
conditions that have proportion less than 1. Attributes adjusted to a
per-acre value are summed by plot, divided by the adjustment factor, and
averaged by stratum. Strata means are combined using the strata weights and
then expanded to using the total land area in the population."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FIESTA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.6.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/FIESTA_tutorial_GB.html">Green-book Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_MA.html">Model-Assisted Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_SA.html">Small Area Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_PB.html">Photo-Based Estimators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/FIESTA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Green-Book module - Generate tree estimates.</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/FIESTA/blob/master/R/modGBtree.R" class="external-link"><code>R/modGBtree.R</code></a></small>
      <div class="d-none name"><code>modGBtree.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates tree and or seedling estimates by domain and/or tree domain (and
estimation unit).  Calculations are based on Scott et al. 2005 ('the
green-book') for mapped forest inventory plots. The non-ratio estimator for
estimating tree attributes by stratum and domain is used. Plots that are
totally nonsampled are excluded from estimation dataset. Next, an adjustment
factor is calculated by strata to adjust for nonsampled (nonresponse)
conditions that have proportion less than 1. Attributes adjusted to a
per-acre value are summed by plot, divided by the adjustment factor, and
averaged by stratum. Strata means are combined using the strata weights and
then expanded to using the total land area in the population.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">modGBtree</span><span class="op">(</span></span>
<span>  <span class="va">GBpopdat</span>,</span>
<span>  <span class="va">estvar</span>,</span>
<span>  estvar.filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  estvar.derive <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  estseed <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  woodland <span class="op">=</span> <span class="st">"Y"</span>,</span>
<span>  landarea <span class="op">=</span> <span class="st">"FOREST"</span>,</span>
<span>  pcfilter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rowvar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colvar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sumunits <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  returntitle <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  savedata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  table_opts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title_opts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  savedata_opts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-gbpopdat">GBpopdat<a class="anchor" aria-label="anchor" href="#arg-gbpopdat"></a></dt>
<dd><p>List. Population data objects returned from
FIESTA::modGBpop().</p></dd>


<dt id="arg-estvar">estvar<a class="anchor" aria-label="anchor" href="#arg-estvar"></a></dt>
<dd><p>String. Name of the tree-level estimate variable (e.g.,
'VOLCFNET'). If estvar.derive, estvar is the list name.</p></dd>


<dt id="arg-estvar-filter">estvar.filter<a class="anchor" aria-label="anchor" href="#arg-estvar-filter"></a></dt>
<dd><p>String. A tree-level filter for estvar. Must be R
syntax (e.g., 'STATUSCD == 1').</p></dd>


<dt id="arg-estvar-derive">estvar.derive<a class="anchor" aria-label="anchor" href="#arg-estvar-derive"></a></dt>
<dd><p>List. A derivation of a tree variable to estimate.
Must be a named list with one element (e.g.,
list(SDI='SUM(POWER(DIA/10,1.605) * TPA_UNADJ)'). Set estvar = NULL.</p></dd>


<dt id="arg-estseed">estseed<a class="anchor" aria-label="anchor" href="#arg-estseed"></a></dt>
<dd><p>String. Use seedling data only or add to tree data. Seedling
estimates are only for counts (estvar='TPA_UNADJ')-('none', 'only', 'add').</p></dd>


<dt id="arg-woodland">woodland<a class="anchor" aria-label="anchor" href="#arg-woodland"></a></dt>
<dd><p>String. If woodland = 'Y', include woodland tree species
where measured. If woodland = 'N', only include timber species. See
FIESTA::ref_species$WOODLAND ='Y/N'. If woodland = 'only', only include
woodland species.</p></dd>


<dt id="arg-landarea">landarea<a class="anchor" aria-label="anchor" href="#arg-landarea"></a></dt>
<dd><p>String. The condition-level filter for defining land area
('ALL', 'FOREST', 'TIMBERLAND'). If landarea='FOREST', COND_STATUS_CD = 1;
if landarea='TIMBERLAND', SITECLCD in(1:6) &amp; RESERVCD = 0.</p></dd>


<dt id="arg-pcfilter">pcfilter<a class="anchor" aria-label="anchor" href="#arg-pcfilter"></a></dt>
<dd><p>String. A filter for plot or cond attributes (including
pltassgn).  Must be R logical syntax.</p></dd>


<dt id="arg-rowvar">rowvar<a class="anchor" aria-label="anchor" href="#arg-rowvar"></a></dt>
<dd><p>String. Optional. Name of domain variable to group estvar by
for rows in table output. Rowvar must be included in an input data frame
(i.e., plt, cond, tree). If no rowvar is included, an estimate is returned
for the total estimation unit. Include colvar for grouping by 2 variables.</p></dd>


<dt id="arg-colvar">colvar<a class="anchor" aria-label="anchor" href="#arg-colvar"></a></dt>
<dd><p>String. Optional. If rowvar != NULL, name of domain variable
to group estvar by for columns in table output. Colvar must be included in
an input data frame (i.e., plt, cond, tree).</p></dd>


<dt id="arg-sumunits">sumunits<a class="anchor" aria-label="anchor" href="#arg-sumunits"></a></dt>
<dd><p>Logical. If TRUE, estimation units are summed and returned
in one table.</p></dd>


<dt id="arg-returntitle">returntitle<a class="anchor" aria-label="anchor" href="#arg-returntitle"></a></dt>
<dd><p>Logical. If TRUE, returns title(s) of the estimation
table(s).</p></dd>


<dt id="arg-savedata">savedata<a class="anchor" aria-label="anchor" href="#arg-savedata"></a></dt>
<dd><p>Logical. If TRUE, saves table(s) to outfolder.</p></dd>


<dt id="arg-table-opts">table_opts<a class="anchor" aria-label="anchor" href="#arg-table-opts"></a></dt>
<dd><p>List. See help(table_options()) for a list of
options.</p></dd>


<dt id="arg-title-opts">title_opts<a class="anchor" aria-label="anchor" href="#arg-title-opts"></a></dt>
<dd><p>List. See help(title_options()) for a list of options.</p></dd>


<dt id="arg-savedata-opts">savedata_opts<a class="anchor" aria-label="anchor" href="#arg-savedata-opts"></a></dt>
<dd><p>List. See help(savedata_options()) for a list
of options. Only used when savedata = TRUE.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Parameters for modGBpop() if GBpopdat is NULL.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with estimates with percent sampling error for rowvar (and
colvar).  If sumunits=TRUE or unitvar=NULL and colvar=NULL, one data frame
is returned.  Otherwise, a list object is returned with the following
information.  If savedata=TRUE, all data frames are written to outfolder.</p>
<dl><dt>est</dt>
<dd><p>Data frame. Tree estimates by rowvar, colvar (and estimation
unit). If sumunits=TRUE or one estimation unit and colvar=NULL, estimates
and percent sampling error are in one data frame.</p></dd>
 <dt>pse</dt>
<dd><p>Data frame.
Percent sampling errors (Confidence level 68<!-- %) for estimates by rowvar and -->
colvar (and estimation unit). Note: for 95<!-- % confidence level, multiply -->
percent sampling error by 1.96.</p></dd>
 <dt>titlelst</dt>
<dd><p>List with 1 or 2 string
vectors. If returntitle=TRUE a list with table title(s). The list contains
one title if est and pse are in the same table and two titles if est and pse
are in separate tables.</p></dd>
 <dt>raw</dt>
<dd><p>List of data frames. If rawdata=TRUE,
a list including the processing data used for estimation including: number
of plots and conditions; stratification information; and 1 to 8 tables with
calculated values for table cells and totals (See processing data below).</p></dd>


</dl><p>Raw data</p>
<dl><dt>plotsampcnt</dt>
<dd><p>Table. Number of plots by plot status (ex. sampled
forest on plot, sampled nonforest, nonsampled).</p></dd>
 <dt>condsampcnt</dt>
<dd><p>DF.
Number of conditions by condition status (forest land, nonforest land,
noncensus water, census water, nonsampled).</p></dd>
 <dt>unitarea</dt>
<dd><p>DF. Area by
estimation unit.</p></dd>
 <dt>expcondtab</dt>
<dd><p>DF. Condition-level area expansion
factors.</p></dd>
 <dt>tdomdat</dt>
<dd><p>DF. Final data table used for estimation.</p></dd>


<dt>stratdat</dt>
<dd><p>Data frame. Strata information by estimation unit.</p></dd>

</dl><table class="table table"><tr><td></td><td><b>Variable</b></td><td><b>Description</b></td></tr><tr><td></td><td>unitvar</td><td>estimation unit</td></tr><tr><td></td><td>strvar</td><td>stratum value</td></tr><tr><td></td><td>strwtvar</td><td>number of pixels by strata and estimation unit</td></tr><tr><td></td><td>n.strata</td><td>number of plots in strata (after totally nonsampled plots removed)</td></tr><tr><td></td><td>n.total</td><td>number of plots for estimation unit</td></tr><tr><td></td><td>strwt</td><td>proportion of area (or plots) by strata and estimation unit (i.e., strata
weight)</td></tr><tr><td></td><td>CONDPROP_UNADJ_SUM</td><td>summed condition proportion by
strata and estimation unit</td></tr><tr><td></td><td>CONDPROP_ADJFAC</td><td>adjusted condition
proportion by strata after nonsampled plots removed</td></tr></table><dl><dt>processing data</dt>
<dd><p>Data frames. Separate data frames containing
calculated variables used in estimation process. The number of processing
tables depends on the input parameters. The tables include: total by
estimation unit (unit.totest); rowvar totals (unit.rowest), and if colvar is
not NULL, colvar totals, (unit.colvar); and a combination of rowvar and
colvar (unit.grpvar). If sumunits=TRUE, the raw data for the summed
estimation units are also included (totest, rowest, colest, grpest,
respectively). These tables do not included estimate proportions (nhat and
nhat.var).</p>
<p>The data frames include the following information:</p><table class="table table"><tr><td></td><td><b>Variable</b></td><td><b>Description</b></td></tr><tr><td></td><td>nhat</td><td>estimated
proportion of trees</td></tr><tr><td></td><td>nhat.var</td><td>variance estimate of estimated
proportion of trees</td></tr><tr><td></td><td>NBRPLT.gt0</td><td>Number of non-zero plots used
in estimates</td></tr><tr><td></td><td>ACRES</td><td>total area for estimation unit</td></tr><tr><td></td><td>est</td><td>estimated area of trees nhat*ACRES</td></tr><tr><td></td><td>est.var</td><td>variance
estimate of estimated area of trees nhat.var*areavar^2</td></tr><tr><td></td><td>est.se</td><td>standard error of estimated area of trees sqrt(est.var)</td></tr><tr><td></td><td>est.cv</td><td>coefficient of variation of estimated area of trees est.se/est</td></tr><tr><td></td><td>pse</td><td>percent sampling error of estimate est.cv*100</td></tr><tr><td></td><td>CI99left</td><td>left tail of 99 percent confidence interval for estimated area</td></tr><tr><td></td><td>CI99right</td><td>right tail of 99 percent confidence interval for estimated
area</td></tr><tr><td></td><td>CI95left</td><td>left tail of 95 percent confidence interval for
estimated area</td></tr><tr><td></td><td>CI95right</td><td>right tail of 95 percent confidence
interval for estimated area</td></tr><tr><td></td><td>CI67left</td><td>left tail of 67 percent
confidence interval for estimated area</td></tr><tr><td></td><td>CI67right</td><td>right tail of
67 percent confidence interval for estimated area</td></tr></table><p></p></dd>


</dl><p>Table(s) are also written to outfolder.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If variables are NULL, then it will prompt user to input variables.</p>
<p>Necessary variables:<br></p><table class="table table"><tr><td></td><td><b>Data</b></td><td><b>Variable</b></td><td><b>Description</b></td></tr><tr><td></td><td>tree</td><td>tuniqueid</td><td>Unique identifier for each plot, to link to pltassgn (ex. PLT_CN).</td></tr><tr><td></td><td></td><td>CONDID</td><td>Unique identifier of each condition on plot, to link to
cond.  Set CONDID=1, if only 1 condition per plot.</td></tr><tr><td></td><td></td><td>TPA_UNADJ</td><td>Number of trees per acre each sample tree represents (ex. DESIGNCD=1:
TPA_UNADJ=6.018046 for trees on subplot; 74.965282 for trees on
microplot).</td></tr><tr><td></td><td>cond</td><td>cuniqueid</td><td>Unique identifier for each
plot, to link to pltassgn (ex. PLT_CN).</td></tr><tr><td></td><td></td><td>CONDID</td><td>Unique
identfier of each condition on plot.  Set CONDID=1, if only 1 condition per
plot.</td></tr><tr><td></td><td></td><td>CONDPROP_UNADJ</td><td>Unadjusted proportion of condition on
each plot.  Set CONDPROP_UNADJ=1, if only 1 condition per plot.</td></tr><tr><td></td><td></td><td>COND_STATUS_CD</td><td>Status of each forested condition on plot (i.e.
accessible forest, nonforest, water, etc.)</td></tr><tr><td></td><td></td><td>NF_COND_STATUS_CD</td><td>If ACI=TRUE. Status of each nonforest condition on plot (i.e.
accessible nonforest, nonsampled nonforest)</td></tr><tr><td></td><td></td><td>SITECLCD</td><td>If
landarea=TIMBERLAND. Measure of site productivity.</td></tr><tr><td></td><td></td><td>RESERVCD</td><td>If landarea=TIMBERLAND. Reserved status.</td></tr><tr><td></td><td></td><td>SUBPROP_UNADJ</td><td>Unadjusted proportion of subplot conditions on each plot.  Set
SUBPROP_UNADJ=1, if only 1 condition per subplot.</td></tr><tr><td></td><td></td><td>MICRPROP_UNADJ</td><td>If microplot tree attributes. Unadjusted proportion of
microplot conditions on each plot. Set MICRPROP_UNADJ=1, if only 1 condition
per microplot.</td></tr><tr><td></td><td></td><td>MACRPROP_UNADJ</td><td>If macroplot tree
attributes. Unadjusted proportion of macroplot conditions on each plot. Set
MACRPROP_UNADJ=1, if only 1 condition per macroplot.</td></tr><tr><td></td><td>pltassgn</td><td>puniqueid</td><td>Unique identifier for each plot, to link to cond (ex. CN).</td></tr><tr><td></td><td></td><td>STATECD</td><td>Identifies state each plot is located in.</td></tr><tr><td></td><td></td><td>INVYR</td><td>Identifies inventory year of each plot.</td></tr><tr><td></td><td></td><td>PLOT_STATUS_CD</td><td>Status of each plot (i.e. sampled, nonsampled).  If not
included, all plots are assumed as sampled.</td></tr></table><p>For available reference tables: sort(unique(FIESTAutils::ref_codes$VARIABLE)) <br></p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>ADJUSTMENT FACTOR:<br> The adjustment factor is necessary to account for
nonsampled conditions. It is calculated for each estimation unit by strata.
by summing the unadjusted proportions of the subplot, microplot, and
macroplot (i.e. *PROP_UNADJ) and dividing by the number of plots in the
strata/estimation unit).</p>
<p>An adjustment factor is determined for each tree based on the size of the
plot it was measured on. This is identified using TPA_UNADJ as follows:</p>
<table class="table table"><tr><td></td><td><b>PLOT SIZE</b></td><td><b>TPA_UNADJ</b></td></tr><tr><td></td><td>SUBPLOT</td><td>6.018046</td></tr><tr><td></td><td>MICROPLOT</td><td>74.965282</td></tr><tr><td></td><td>MACROPLOT</td><td>0.999188</td></tr></table><p>If ACI=FALSE, only nonsampled forest conditions are accounted for in the
adjustment factor. <br> If ACI=TRUE, the nonsampled nonforest conditions are
removed as well and accounted for in adjustment factor.  This is if you are
interested in estimates for all lands or nonforest lands in the
All-Condition-Inventory.</p>
<p>sumunits:<br> An estimation unit is a population, or area of interest, with
known area and number of plots. Individual counties or combined
Super-counties are common estimation units for FIA. An estimation unit may
also be a subpopulation of a larger population (e.g., Counties within a
State). Subpopulations are mutually exclusive and independent within a
population, therefore estimated totals and variances are additive. For
example, State-level estimates are generated by summing estimates from all
subpopulations within the State (Bechtold and Patterson. 2005. Chapter 2).
Each plot must be assigned to only one estimation unit.</p>
<p>If sumunits=TRUE, estimates are generated by estimation unit, summed
together, and returned as one estimate. If rawdata=TRUE, estimates by
individual estimation unit are also returned.</p>
<p>If sumunits=FALSE, estimates are generated and returned by estimation unit
as one data frame. If savedata=TRUE, a separate file is written for each
estimation unit.</p>
<p>stratcombine:<br> If TRUE and less than 2 plots in any one estimation unit,
all estimation units with 10 or less plots are combined. The current method
for combining is to group the estimation unit with less than 10 plots with
the estimation unit following in consecutive order (numeric or
alphabetical), restrained by survey unit (UNITCD) if included in dataset,
and continuing until the number of plots equals 10. If there are no
estimation units following in order, it is combined with the estimation unit
previous in order.</p>
<p>rowlut/collut:<br> There are several objectives for including rowlut/collut
look-up tables: 1) to include descriptive names that match row/column codes
in the input table; 2) to use number codes that match row/column names in
the input table for ordering rows; 3) to add rows and/or columns with 0
values for consistency. No duplicate names are allowed.</p>
<p>Include 2 columns in the table:<br> 1-the merging variable with same name as
the variable in the input merge table;<br> 2-the ordering or descriptive
variable.<br> If the ordering variable is the rowvar/colvar in the input
table and the descriptive variable is in rowlut/collut, set
row.orderby/col.orderby equal to rowvar/colvar. If the descriptive variable
is the rowvar/colvar in the input table, and the ordering code variable is
in rowlut/collut, set row.orderby/col.orderby equal to the variable name of
the code variable in rowlut/collut.</p>
<p>UNITS:<br> The following variables are converted from pounds (from FIA
database) to short tons by multiplying the variable by 0.0005.  DRYBIO_AG,
DRYBIO_BG, DRYBIO_WDLD_SPP, DRYBIO_SAPLING, DRYBIO_STUMP, DRYBIO_TOP,
DRYBIO_BOLE, DRYBIOT, DRYBIOM, DRYBIOTB, JBIOTOT, CARBON_BG, CARBON_AG</p>
<p>MORTALITY:<br> For Interior-West FIA, mortality estimates are mainly based on
whether a tree has died within the last 5 years of when the plot was
measured. If a plot was remeasured, mortality includes trees that were alive
the previous visit but were dead in the next visit. If a tree was standing
the previous visit, but was not standing in the next visit, no diameter was
collected (DIA = NA) but the tree is defined as mortality.</p>
<p>Common tree filters: <br></p>
<table class="table table"><tr><td></td><td><b>FILTER</b></td><td><b>DESCRIPTION</b></td></tr><tr><td></td><td>"STATUSCD
== 1"</td><td>Live trees</td></tr><tr><td></td><td>"STATUSCD == 2"</td><td>Dead trees</td></tr><tr><td></td><td>"TPAMORT_UNADJ &gt; 0"</td><td>Mortality trees</td></tr><tr><td></td><td>"STATUSCD == 2 &amp; DIA &gt;=
5.0"</td><td>Dead trees &gt;= 5.0 inches diameter</td></tr><tr><td></td><td>"STATUSCD == 2 &amp;
AGENTCD == 30"</td><td>Dead trees from fire</td></tr></table></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Scott, Charles T.; Bechtold, William A.; Reams, Gregory A.;
Smith, William D.; Westfall, James A.; Hansen, Mark H.; Moisen, Gretchen G.
2005. Sample-based estimators used by the Forest Inventory and Analysis
national information management system. Gen. Tech. Rep. SRS-80. Asheville,
NC: U.S. Department of Agriculture, Forest Service, Southern Research
Station, p.53-77.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tracey S. Frescino, Paul L. Patterson, Elizabeth A. Freeman</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">GBpopdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="modGBpop.html">modGBpop</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  popTabs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cond <span class="op">=</span> <span class="fu">FIESTA</span><span class="fu">::</span><span class="va"><a href="WYcond.html">WYcond</a></span>,  </span></span>
<span class="r-in"><span>                 tree <span class="op">=</span> <span class="fu">FIESTA</span><span class="fu">::</span><span class="va"><a href="WYtree.html">WYtree</a></span>,        </span></span>
<span class="r-in"><span>                 seed <span class="op">=</span> <span class="fu">FIESTA</span><span class="fu">::</span><span class="va"><a href="WYseed.html">WYseed</a></span><span class="op">)</span>,      </span></span>
<span class="r-in"><span>  popTabIDs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cond <span class="op">=</span> <span class="st">"PLT_CN"</span><span class="op">)</span>,            </span></span>
<span class="r-in"><span>  pltassgn <span class="op">=</span> <span class="fu">FIESTA</span><span class="fu">::</span><span class="va"><a href="WYpltassgn.html">WYpltassgn</a></span>,  </span></span>
<span class="r-in"><span>  pltassgnid <span class="op">=</span> <span class="st">"CN"</span>,        </span></span>
<span class="r-in"><span>  pjoinid <span class="op">=</span> <span class="st">"PLT_CN"</span>,         </span></span>
<span class="r-in"><span>  unitarea <span class="op">=</span> <span class="fu">FIESTA</span><span class="fu">::</span><span class="va"><a href="WYunitarea.html">WYunitarea</a></span>,</span></span>
<span class="r-in"><span>  unitvar <span class="op">=</span> <span class="st">"ESTN_UNIT"</span>,        </span></span>
<span class="r-in"><span>  strata <span class="op">=</span> <span class="cn">TRUE</span>,           </span></span>
<span class="r-in"><span>  stratalut <span class="op">=</span> <span class="va">WYstratalut</span>,    </span></span>
<span class="r-in"><span>  strata_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/FIESTAutils/man/strata_options.html" class="external-link">strata_options</a></span><span class="op">(</span>getwt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>   </span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> savedata=FALSE with savedata parameters... no data are saved</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> variables are missing from dataset: STATECD, UNITCD, COUNTYCD, PLOT, PLOT_STATUS_CD, PLOT_NONSAMPLE_REASN_CD, INTENSITY, SUBCYCLE, MACRO_BREAKPOINT_DIA</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> SURVEY table does not exist in database... assuming annual inventory plots</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INVYR not in input data...  no invyrs returned...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> SUBCYCLE not in data... assuming all SUBCYCLE &lt;&gt; 99</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> removing nonsampled forest plots...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> returning data needed for estimation...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> there are 14 nonsampled conditions</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tree1.1</span> <span class="op">&lt;-</span> <span class="fu">modGBtree</span><span class="op">(</span></span></span>
<span class="r-in"><span>  GBpopdat <span class="op">=</span> <span class="va">GBpopdat</span>,         <span class="co"># pop - population calculations</span></span></span>
<span class="r-in"><span>  landarea <span class="op">=</span> <span class="st">"FOREST"</span>,         <span class="co"># est - forest land filter</span></span></span>
<span class="r-in"><span>  sumunits <span class="op">=</span> <span class="cn">TRUE</span>,             <span class="co"># est - sum estimation units to population</span></span></span>
<span class="r-in"><span>  estvar <span class="op">=</span> <span class="st">"VOLCFNET"</span>,               <span class="co"># est - net cubic-foot volume</span></span></span>
<span class="r-in"><span>  estvar.filter <span class="op">=</span> <span class="st">"STATUSCD == 1"</span>,   <span class="co"># est - live trees only</span></span></span>
<span class="r-in"><span>  returntitle <span class="op">=</span> <span class="cn">TRUE</span>           <span class="co"># out - return title information</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> getting estimates using GB...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> getting output...</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tree1.1</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ est     :'data.frame':	1 obs. of  3 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ titlelst:List of 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ raw     :List of 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ statecd : int 56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ states  : chr "Wyoming"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tree1.2</span> <span class="op">&lt;-</span> <span class="fu">modGBtree</span><span class="op">(</span></span></span>
<span class="r-in"><span>  GBpopdat <span class="op">=</span> <span class="va">GBpopdat</span>,         <span class="co"># pop - population calculations</span></span></span>
<span class="r-in"><span>  landarea <span class="op">=</span> <span class="st">"FOREST"</span>,         <span class="co"># est - forest land filter</span></span></span>
<span class="r-in"><span>  sumunits <span class="op">=</span> <span class="cn">TRUE</span>,             <span class="co"># est - sum estimation units to population</span></span></span>
<span class="r-in"><span>  estvar <span class="op">=</span> <span class="st">"VOLCFNET"</span>,               <span class="co"># est - net cubic-foot volume</span></span></span>
<span class="r-in"><span>  estvar.filter <span class="op">=</span> <span class="st">"STATUSCD == 1"</span>,   <span class="co"># est - live trees only</span></span></span>
<span class="r-in"><span>  rowvar <span class="op">=</span> <span class="st">"FORTYPCD"</span>,         <span class="co"># est - row domain </span></span></span>
<span class="r-in"><span>  returntitle <span class="op">=</span> <span class="cn">TRUE</span>           <span class="co"># out - return title information</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> getting estimates using GB...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> getting output...</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tree1.2</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ est     :'data.frame':	20 obs. of  3 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ titlelst:List of 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ raw     :List of 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ statecd : int 56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ states  : chr "Wyoming"</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tracey Frescino, Gretchen Moisen, Paul Patterson, Chris Toney, Grayson White, Joshua Yamamoto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

