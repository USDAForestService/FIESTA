<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Spatial - Clip (intersect) polygon vector layer with polygon vector layer. — spClipPoly • FIESTA</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Spatial - Clip (intersect) polygon vector layer with polygon vector layer. — spClipPoly"><meta name="description" content="Wrapper for sf::st_intersection, to clip (intersect) polygon vector layer
with another polygon vector layer."><meta property="og:description" content="Wrapper for sf::st_intersection, to clip (intersect) polygon vector layer
with another polygon vector layer."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FIESTA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.6.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/FIESTA_tutorial_GB.html">Green-book Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_MA.html">Model-Assisted Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_SA.html">Small Area Estimators</a></li>
    <li><a class="dropdown-item" href="../articles/FIESTA_tutorial_PB.html">Photo-Based Estimators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/USDAForestService/FIESTA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Spatial - Clip (intersect) polygon vector layer with polygon vector layer.</h1>
      <small class="dont-index">Source: <a href="https://github.com/USDAForestService/FIESTA/blob/master/R/spClipPoly.R" class="external-link"><code>R/spClipPoly.R</code></a></small>
      <div class="d-none name"><code>spClipPoly.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Wrapper for sf::st_intersection, to clip (intersect) polygon vector layer
with another polygon vector layer.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spClipPoly</span><span class="op">(</span></span>
<span>  <span class="va">polyv</span>,</span>
<span>  polyv_dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">clippolyv</span>,</span>
<span>  clippolyv_dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  clippolyv.filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  buffdist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  validate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  showext <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  areacalc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  areaunits <span class="op">=</span> <span class="st">"ACRES"</span>,</span>
<span>  nolonglat <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  exportsp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  savedata_opts <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-polyv">polyv<a class="anchor" aria-label="anchor" href="#arg-polyv"></a></dt>
<dd><p>sf R object or String. Polygon data to clip. Can be a spatial
polygon object, full pathname to a shapefile, or name of a layer within a
database.</p></dd>


<dt id="arg-polyv-dsn">polyv_dsn<a class="anchor" aria-label="anchor" href="#arg-polyv-dsn"></a></dt>
<dd><p>String. Data source name (dsn; e.g., sqlite or shapefile
pathname) of layer to clip. The dsn varies by driver. See gdal OGR vector
formats (https://www.gdal.org/ogr_formats.html). Optional if polyv is sf
object.</p></dd>


<dt id="arg-clippolyv">clippolyv<a class="anchor" aria-label="anchor" href="#arg-clippolyv"></a></dt>
<dd><p>SpatialPolygons class R object or String. Name of the
polygon spatial layer to use for clipping.</p></dd>


<dt id="arg-clippolyv-dsn">clippolyv_dsn<a class="anchor" aria-label="anchor" href="#arg-clippolyv-dsn"></a></dt>
<dd><p>String. Data source name (dsn; i.e., pathname or
database name) of clippolyv_layer. The dsn varies by driver. See gdal OGR
vector formats (https://www.gdal.org/ogr_formats.html). Optional if
clippolyv_layer is an R object.</p></dd>


<dt id="arg-clippolyv-filter">clippolyv.filter<a class="anchor" aria-label="anchor" href="#arg-clippolyv-filter"></a></dt>
<dd><p>String. Filter to subset clippolyv spatial layer.</p></dd>


<dt id="arg-buffdist">buffdist<a class="anchor" aria-label="anchor" href="#arg-buffdist"></a></dt>
<dd><p>Number. The distance to buffer the polygon before clipping.
Uses sf::st_buffer. The distance is based on units of polygon, st_crs(x)$units.</p></dd>


<dt id="arg-validate">validate<a class="anchor" aria-label="anchor" href="#arg-validate"></a></dt>
<dd><p>Logical. If TRUE, validates polyv and clippolyv before
clipping. Uses sf::st_make_valid with default parameters
(geos_method='valid_structure', geos_keep_collapsed=FALSE).</p></dd>


<dt id="arg-showext">showext<a class="anchor" aria-label="anchor" href="#arg-showext"></a></dt>
<dd><p>Logical. If TRUE, layer extents are displayed in plot window.</p></dd>


<dt id="arg-areacalc">areacalc<a class="anchor" aria-label="anchor" href="#arg-areacalc"></a></dt>
<dd><p>Logical. If TRUE, calculate area of clipped polygons and
append to attribute table (See details).</p></dd>


<dt id="arg-areaunits">areaunits<a class="anchor" aria-label="anchor" href="#arg-areaunits"></a></dt>
<dd><p>String. If TRUE, calculate area of clipped polygons and
append to attribute table ("ACRES", "HECTARES", "SQKM"). If NULL, units of
polyv.</p></dd>


<dt id="arg-nolonglat">nolonglat<a class="anchor" aria-label="anchor" href="#arg-nolonglat"></a></dt>
<dd><p>Logical. If TRUE, and both layer's coordinate system is
long/lat, the layers are converted to a projected CRS before clipping.</p></dd>


<dt id="arg-exportsp">exportsp<a class="anchor" aria-label="anchor" href="#arg-exportsp"></a></dt>
<dd><p>Logical. If TRUE, the spatial clipped object is exported to
outfolder (see spExportSpatial for details).</p></dd>


<dt id="arg-savedata-opts">savedata_opts<a class="anchor" aria-label="anchor" href="#arg-savedata-opts"></a></dt>
<dd><p>List. See help(savedata_options()) for a list
of options for saving data. If out_layer = NULL, default = 'polyclip'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>sf object of clipped polygon. If polyv and clippolyv have different
projections, the projection of returned object will have the same projection
as polyv (See note about on-the-fly projection conversion).</p>
<p>If exportsp=TRUE, the sf object will be written to outfolder (See note).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The sf::st_intersection function is used to clip polygons. <br></p>
<p>areacalc<br> If areacalc = TRUE and the clipped spatial object is not in a
projected coordinate system (i.e., longlat), the object will be reprojected
to the Albers Equal Area projection before area is calculated.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>On-the-fly projection conversion<br> The spTransform (sf) method is used
for on-the-fly map projection conversion and datum transformation using
PROJ.4 arguments. Datum transformation only occurs if the +datum tag is
present in the both the from and to PROJ.4 strings. The +towgs84 tag is used
when no datum transformation is needed. PROJ.4 transformations assume NAD83
and WGS84 are identical unless other transformation parameters are
specified.  Be aware, providing inaccurate or incomplete CRS information may
lead to erroneous data shifts when reprojecting. See spTransform help
documentation for more details.</p>
<p>ESRI Shapefile Driver<br>
If exportsp=TRUE:<br>
The st_write (sf) function is called. If out_fmt="shp", the ESRI Shapefile
driver truncates variable names to 10 characters or less. Variable names are
changed before export using an internal function (trunc10shp). If sf object
has more than 1 record, it will be returned but not exported.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tracey S. Frescino</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tracey Frescino, Gretchen Moisen, Paul Patterson, Chris Toney, Grayson White, Joshua Yamamoto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

