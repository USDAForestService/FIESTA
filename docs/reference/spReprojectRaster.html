<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Spatial - Reprojects an Esri shapefile (*shp) or S4 Spatial object. — spReprojectRaster • FIESTA</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Spatial - Reprojects an Esri shapefile (*shp) or S4 Spatial object. — spReprojectRaster"><meta property="og:description" content="Reprojects an Esri shapefile (*.shp) or S4 Spatial object to a new
geographic or projected coordinate system, with option to save new object."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FIESTA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.5.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/FIESTA_manual_mod_est.html">`FIESTA` Manual - Module Estimates</a>
    </li>
    <li>
      <a href="../articles/FIESTA_manual_mod_pop.html">`FIESTA` Manual - Population Data</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_DB.html">FIESTA - Database Tools</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_GB.html">FIESTA - Green-book Estimators</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_MA.html">FIESTA - Model-Assisted Estimators</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_PB.html">FIESTA - Photo-Based Module</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_SA.html">FIESTA - Small Area Estimators</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_dat.html">FIESTA - Data Tools</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_sp.html">FIESTA - Spatial Tools</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Spatial - Reprojects an Esri shapefile (*shp) or S4 Spatial object.</h1>
    
    <div class="hidden name"><code>spReprojectRaster.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reprojects an Esri shapefile (*.shp) or S4 Spatial object to a new
geographic or projected coordinate system, with option to save new object.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spReprojectRaster</span><span class="op">(</span></span>
<span>  <span class="va">rastfn</span>,</span>
<span>  bands <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rast.ref <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs.new <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  res.new <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox.new <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dtype.new <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  NODATA.new <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resamp.method <span class="op">=</span> <span class="st">"near"</span>,</span>
<span>  crs.default <span class="op">=</span> <span class="st">"EPSG:5070"</span>,</span>
<span>  compress <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  BigTIFF <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  outfolder <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outfn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outext <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>rastfn</dt>
<dd><p>String or Raster. File name(s) with extensions, or raster
object(s).  Note: raster objects must be written to file.</p></dd>


<dt>bands</dt>
<dd><p>Numeric vector. If rast is a multi-layer raster and only 1 or
some layers are desired, specify layer number(s) in a vector format. If
NULL, all layers are projected.</p></dd>


<dt>crs</dt>
<dd><p>Coordinate Reference System (CRS). The CRS of rastfn if not
defined.  EPSG:code, PROJ.4 declaration, or .prj file containing WKT. For
example, PROJ.4: "+proj=moll +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84
+datum=WGS84 +units=m +no_defs".  If NULL, and the CRS of rastfn is not
defined, uses crs.default.</p></dd>


<dt>rast.ref</dt>
<dd><p>String or Raster. File name(s) with extensions, or raster
object to use as reference raster.</p></dd>


<dt>crs.new</dt>
<dd><p>Coordinate Reference System. New CRS for rastfn.  EPSG:code,
PROJ.4 declaration, or .prj file containing WKT. For example, PROJ.4:
"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m
+no_defs".</p></dd>


<dt>res.new</dt>
<dd><p>Integer vector. One or two values defining new resolution of
raster (in target georeferenced units) (e.g., 30 or c(30,30)).</p></dd>


<dt>bbox.new</dt>
<dd><p>&lt;xmin ymin xmax ymax&gt; Georeferenced extent or bounding box
of new raster.</p></dd>


<dt>dtype.new</dt>
<dd><p>String. Force a data type of new raster. If NULL, the data
type will be same as rastfn (e.g., Byte, Int16, UInt16).</p></dd>


<dt>NODATA.new</dt>
<dd><p>Integer. Set nodata values for new raster. New files will
be initialized to this value and if possible the nodata value will be
recorded in the output file. Use a value of "None" to ensure that nodata is
not defined. If NULL, NODATA and rastfn has a set NODATA value, this value
will be used for new raster.</p></dd>


<dt>resamp.method</dt>
<dd><p>Method for resampling ('near', 'bilinear', 'cubic',
'cubicspline', 'landzos', 'average', 'mode', 'min', 'max', 'med', 'q1',
'q3').</p></dd>


<dt>crs.default</dt>
<dd><p>Coordinate Reference System. A default CRS if
crs.new=NULL.  The default is: EPSG:5070, Conus Albers, PRJ4='+proj=aea
+lat_1=29.5 +lat_2=45.5 +lat_0=23 +lon_0=-96, +x_0=0 +y_0=0", "+ellps=GRS80
+towgs84=0,0,0,-0,-0,-0,0 +units=m +no_defs'.</p></dd>


<dt>compress</dt>
<dd><p>String. An optional compression type ('LZW', "DEFLATE',
"PACKBITS').</p></dd>


<dt>BigTIFF</dt>
<dd><p>Logical. If TRUE, compress option for big files (&gt; 4GB).</p></dd>


<dt>outfolder</dt>
<dd><p>String. If exportsp=TRUE, name of output folder. If NULL,
the working directory is used.</p></dd>


<dt>outfn</dt>
<dd><p>String. Name of output raster. If NULL, default is 'polyrast'.</p></dd>


<dt>outext</dt>
<dd><p>String. Name of raster extension (fmt). If NULL, uses
extension from outfn or rastfn.</p></dd>


<dt>overwrite</dt>
<dd><p>Logical. If TRUE, overwrites raster file.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <dl><dt>rastfn.new</dt>
<dd><p>String. Full path name to reprojected raster.</p></dd>

</dl></div>
    <div id="note">
    <h2>Note</h2>
    <p>Coordinate Reference Systems (CRS)<br> An ellipse is an estimated model
describing the basic shape of the Earth and is the basis for all coordinate
systems. There are many ellipsoids designed for local (e.g., NAD27) or
global (e.g., WGS84, GRS80) use. The datum defines the reference position of
the coordinate axes associated with a specific ellipsoid. Specifying the
datum also defines the ellipsoid, whereas specifying the ellipsoid does not
provide information of the datum.</p>
<p>WGS84 vs NAD83 WGS84 and NAD83 datums are often used interchangeably, and
use very similar ellipsoids (WGS84 and GRS80, respectively), but have
different reference points. Slight tectonic shifts through time have caused
increased divergence between the two, with NAD83 datum intended to track
movements more consistently.</p>
<p>Common Datums and associated spheroid (ellipsoid):<br> NAD27 - North American
Datum of 1927 (Clarke 1866 spheroid)<br> NAD83 - North American Datum of 1983
(GRS 1980 spheroid)<br> WGS84 - World Geodetic System of 1984 (WGS 1984
spheroid)<br></p>
<p>From R, use projInfo for list of different projections and datums.<br> &gt;
projInfo(type="proj")<br> &gt; projInfo(type="datum")<br></p>
<p>Common EPSG Geodetic codes in U.S.<br> EPSG:4326 - Longitude/Latitude (WGS84)
- Common for global displays (used by Google Earth)<br> EPSG:4269 -
Longitude/Latitude (NAD83) - Common by U.S. Federal Agencies<br></p>
<p>The sf::st_transform (GDAL) method is used for map projection conversion and
datum transformation using PROJ.4 arguments. Datum transformation only
occurs if the +datum tag is present in the both the from and to PROJ.4
strings. The +towgs84 tag is used when no datum transformation is needed.
PROJ.4 transformations assume NAD83 and WGS84 are identical unless other
transformation parameters are specified. Be aware, providing inaccurate or
incomplete CRS information may lead to erroneous data shifts when
reprojecting. See spTransform help documentation for more details.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Tracey S. Frescino, Chris Toney</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Get raster layers from FIESTA external data</span></span></span>
<span class="r-in"><span><span class="va">demfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"sp_data/WYbighorn_dem_250m.img"</span>,</span></span>
<span class="r-in"><span>                     package <span class="op">=</span> <span class="st">"FIESTA"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check original projection</span></span></span>
<span class="r-in"><span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">demfn</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">proj4string</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "+proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD27 +units=m +no_defs"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Reproject raster</span></span></span>
<span class="r-in"><span><span class="va">reprojected</span> <span class="op">&lt;-</span> <span class="fu">spReprojectRaster</span><span class="op">(</span>rastfn <span class="op">=</span> <span class="va">demfn</span>,</span></span>
<span class="r-in"><span>                                 crs.new <span class="op">=</span> <span class="st">"EPSG:32613"</span>,</span></span>
<span class="r-in"><span>                                 outfolder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> /tmp/Rtmpwr1ErM/temp_libpath422d49d1092c/FIESTA/extdata/sp_data/WYbighorn_dem_250m.img</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0...10...20...30...40...50...60...70...80...90...100 - done.</span>
<span class="r-in"><span>                                 </span></span>
<span class="r-in"><span><span class="co"># Check new projection</span></span></span>
<span class="r-in"><span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">demfn</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">proj4string</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "+proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD27 +units=m +no_defs"</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tracey Frescino, Gretchen Moisen, Paul Patterson, Chris Toney, Grayson White.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

