<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Database - Gets or checks FIA EVALIDs and/or gets inventory years from FIA's online publicly-available DataMart (https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html). — DBgetEvalid • FIESTA</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Database - Gets or checks FIA EVALIDs and/or gets inventory years from FIA's online publicly-available DataMart (https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html). — DBgetEvalid"><meta property="og:description" content="Extracts FIA EVALIDs for identifying an estimation group of plots. EVALIDs
may be extracted by most current evaluation (evalCur=TRUE) or by the end
year of an evaluation (evalEndyr) or all evaluations in the database for one
or more states. See details for more information."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FIESTA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.6.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/FIESTA_manual_mod_est.html">`FIESTA` Manual - Module Estimates</a>
    </li>
    <li>
      <a href="../articles/FIESTA_manual_mod_pop.html">`FIESTA` Manual - Population Data</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_dat.html">FIESTA - Data Tools</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_DB.html">FIESTA - Database Tools</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_GB.html">FIESTA - Green-book Estimators</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_MA.html">FIESTA - Model-Assisted Estimators</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_PB.html">FIESTA - Photo-Based Module</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_SA.html">FIESTA - Small Area Estimators</a>
    </li>
    <li>
      <a href="../articles/FIESTA_tutorial_sp.html">FIESTA - Spatial Tools</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/USDAForestService/FIESTA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Database - Gets or checks FIA EVALIDs and/or gets inventory years from FIA's online publicly-available DataMart (https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html).</h1>
    <small class="dont-index">Source: <a href="https://github.com/USDAForestService/FIESTA/blob/HEAD/R/DBgetEvalid.R" class="external-link"><code>R/DBgetEvalid.R</code></a></small>
    <div class="hidden name"><code>DBgetEvalid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extracts FIA EVALIDs for identifying an estimation group of plots. EVALIDs
may be extracted by most current evaluation (evalCur=TRUE) or by the end
year of an evaluation (evalEndyr) or all evaluations in the database for one
or more states. See details for more information.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DBgetEvalid</span><span class="op">(</span></span>
<span>  states <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  RS <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datsource <span class="op">=</span> <span class="st">"datamart"</span>,</span>
<span>  data_dsn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  invtype <span class="op">=</span> <span class="st">"ANNUAL"</span>,</span>
<span>  evalCur <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  evalEndyr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  evalid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  evalAll <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  evalType <span class="op">=</span> <span class="st">"VOL"</span>,</span>
<span>  invyrtab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dbTabs <span class="op">=</span> <span class="fu"><a href="dbTables.html">dbTables</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dbconn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dbconnopen <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  returnPOP <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  gui <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>states</dt>
<dd><p>String or numeric vector. Name (e.g., 'Arizona','New Mexico')
or code (e.g., 4, 35) of state(s) for evalid. If all states in one or more
FIA Research Station is desired, set states=NULL and use RS argument to
define RS.</p></dd>


<dt>RS</dt>
<dd><p>String vector. Name of research station(s)
('RMRS','SRS','NCRS','NERS','PNWRS').  Do not use if states is populated.</p></dd>


<dt>datsource</dt>
<dd><p>Source of data ('datamart', 'sqlite').</p></dd>


<dt>data_dsn</dt>
<dd><p>If datsource='sqlite', the file name (data source name) of
the sqlite database (*.sqlite).</p></dd>


<dt>invtype</dt>
<dd><p>String. The type of FIA data to extract ('PERIODIC',
'ANNUAL').  Only 1 allowed at a time. See further details below.</p></dd>


<dt>evalCur</dt>
<dd><p>Logical. If TRUE, the most current FIA Evaluation is extracted
for state(s).</p></dd>


<dt>evalEndyr</dt>
<dd><p>Number. The end year of the FIA Evaluation period of interest.
Selects only sampled plots and conditions for the evaluation period. If
more than one state, create a named list object with evalEndyr labeled for
each state (e.g., list(Utah=2014, Colorado=2013).</p></dd>


<dt>evalid</dt>
<dd><p>Integer. One or more EVALID to check if exists.</p></dd>


<dt>evalAll</dt>
<dd><p>Logical. If TRUE, gets all EVALIDs for invtype.</p></dd>


<dt>evalType</dt>
<dd><p>String vector. The type(s) of evaluation of interest ('ALL',
'CURR', 'VOL', 'GRM', 'P2VEG', 'DWM", 'INV', 'REGEN', 'CRWN').  The evalType
'ALL' includes nonsampled plots; 'CURR' includes plots used for area
estimates; 'VOL' includes plots used for area and/or tree estimates; The
evalType 'GRM' includes plots used for growth, removals, mortality, and
change estimates (eval_typ <!-- %in% c(GROW, MORT, REMV, CHNG)).  Multiple types -->
are accepted. See details below and FIA database manual for regional
availability and/or differences.</p></dd>


<dt>invyrtab</dt>
<dd><p>Data frame. A data frame including inventory years by state.
If NULL, it is generated from SURVEY table from FIA database based on states
and invtype.</p></dd>


<dt>dbTabs</dt>
<dd><p>List of database tables the user would like returned.
See help(dbTables) for a list of options.</p></dd>


<dt>dbconn</dt>
<dd><p>Open database connection.</p></dd>


<dt>dbconnopen</dt>
<dd><p>Logical. If TRUE, the dbconn connection is not closed.</p></dd>


<dt>returnPOP</dt>
<dd><p>Logical. If TRUE, returns pop tables (SURVEY, 
POP_PLOT_STRATUM_ASSGN) as R objects instead of table names, if in db.</p></dd>


<dt>gui</dt>
<dd><p>Logical. If TRUE, gui windows pop up for parameter selection.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of the following objects:</p>
<dl><dt>states</dt>
<dd><p>String vector. State
names.</p></dd>
 <dt>rslst</dt>
<dd><p>String vector. FIA research station names included in
output.</p></dd>
 <dt>evalidlist</dt>
<dd><p>Named list. evalid by state.</p></dd>
 <dt>invtype</dt>
<dd><p>String. Inventory type for states(s) (ANNUAL/PERIODIC).</p></dd>
 <dt>invyrtab</dt>
<dd><p>Data frame. Inventory years by state for evalidlist.</p></dd>
 <dt>evalTypelist</dt>
<dd><p>Named list. Evaluation type(s) by state.</p></dd>
 <dt>invyrs</dt>
<dd><p>Named list.
Inventory years by state for evalidlist.</p></dd>
 <dt>SURVEY</dt>
<dd><p>Data frame. If
returnPOP=TRUE, the SURVEY table from FIADB.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>FIA Evaluation<br> An Evaluation defines a group of plots in the FIA Database
used for state-level estimates, representing different spans of data and
different stratification and area adjustments. An Evaluation Type (evalType)
is used to identify a specific set of plots for a particular response to be
able to ensure a sample-based estimate for a population. See FIA's Database
documentation for current available Evaluation Types and descriptions
(https://www.fia.fs.fed.us/library/database-documentation/index.php).</p>
<p>EVALID<br> An EVALID is a unique code defining an Evaluation, generally in
the format of a 2-digit State code, a 2-digit year code, and a 2-digit
Evaluation Type code.</p>
<p>EVAL_TYP<br></p><table class="table table"><tr><td></td><td><b>EVALIDCD</b></td><td><b>EVAL_TYP</b></td><td><b>Description</b></td></tr><tr><td></td><td>00</td><td>EXPALL</td><td>All area</td></tr><tr><td></td><td>01</td><td>EXPVOL/EXPCURR</td><td>Area/Volume</td></tr><tr><td></td><td>03</td><td>EXPCHNG/EXPGROW/EXPMORT/EXPREMV</td><td>Area Change/GRM</td></tr><tr><td></td><td>07</td><td>EXPDWM</td><td>DWM</td></tr><tr><td></td><td>08</td><td>EXPREGEN</td><td>Regeneration</td></tr><tr><td></td><td>09</td><td>EXPINV</td><td>Invasive</td></tr><tr><td></td><td>10</td><td>EXPP2VEG</td><td>Veg profile</td></tr><tr><td></td><td>12</td><td>EXPCRWN</td><td>Crown</td></tr></table></div>
    <div id="note">
    <h2>Note</h2>
    <p>FIA database tables used:<br> 1. SURVEY - To get latest inventory year,
invyrtab = NULL<br> 2. POP_EVAL - To get EVALID and EVALID years</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Tracey S. Frescino</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Get evalid and inventory years for Wyoming</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span> <span class="op">&lt;-</span> <span class="fu">DBgetEvalid</span><span class="op">(</span>states<span class="op">=</span><span class="st">"Wyoming"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">WYeval</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">evalidlist</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">invtype</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">invyrtab</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">evalType</span></span></span>
<span class="r-in"><span><span class="va">WYeval</span><span class="op">$</span><span class="va">invyrs</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get evalid for Utah and Wyoming</span></span></span>
<span class="r-in"><span><span class="fu">DBgetEvalid</span><span class="op">(</span>states<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wyoming"</span>, <span class="st">"Utah"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get evalid for an FIA Research Station</span></span></span>
<span class="r-in"><span><span class="va">RSevalid</span> <span class="op">&lt;-</span> <span class="fu">DBgetEvalid</span><span class="op">(</span>RS<span class="op">=</span><span class="st">"NERS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">RSevalid</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">RSevalid</span><span class="op">$</span><span class="va">evalidlist</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tracey Frescino, Gretchen Moisen, Paul Patterson, Chris Toney, Grayson White, Joshua Yamamoto.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

